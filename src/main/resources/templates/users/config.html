<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="en">
<head th:replace="layout::head">
<title th:text="|${user.getUsername()}'s Config|">User Config</title>
</head>
<body>
	<header th:replace="layout::header"></header>
	<main class="container" th:fragment="config-page">
	<div>
		<h2 th:text="|${user.getUsername()}'s Config|">User Config</h2>
		<hr class="hr_heading" />
	</div>
	<div class="row my-2">
		<div class="col-sm-8">
			<div class="card">
				<div class="card-header bg-primary">Email Address</div>
				<div class="card-body" th:text="${user.getEmail().getEmail()}">User Address</div>
			</div>
		</div>
	</div>
	<div class="row my-2">
		<div class="col-sm-8">
			<div class="card">
				<div class="card-header bg-info">Account Actions</div>
				<div class="card-body">
					<p>
						<a>Change user information</a>
					</p>
					<p>
						<a th:href="@{'/users/'+${user.getUsername()}+'/edit'}|">Change email</a>
					</p>
					<p th:if="${!user.getEmail().isConfirmed()}">
						<a th:href="@{'/users/'+${user.getUsername()}+'/reset/re_sent_conrfimation_email'}">Resend confirmation email</a>
					</p>
					<p>
						<a th:href="@{'/users/'+${user.getUsername()}+'/reset/password'}">Change password</a>
					</p>
					<p>
						<a th:href="@{'/users/'+${user.getUsername()}+'/reset/password_email'}">Send email to reset password</a>
					</p>
				</div>
			</div>
		</div>
	</div>
	<div class="row my-2">
		<div class="col-sm-8">
			<div class="card ">
				<div class="card-header bg-info">Statistics</div>
				<div class="card-body">
					<p>
						<i class="far fa-calendar"></i>
						<span th:text="| Member since: ${user.getCreated_at()}|">Member since: dd-mm-yyyy</span>
					</p>
					<p>
						Last logged in:
						<b style="color: red;">IN DEVELPOMENT</b>
					</p>
					<div th:object="${user.getEmail()}">
						<p>
							<i class="far fa-calendar"></i>
							<span
								th:text="*{isConfirmed()} ? ' Email confirmed: ' + *{getEmail_confirmed_on()} : ' Email has not been confirmed yet!!'"
							></span>
						</p>
					</div>
				</div>
			</div>
		</div>
	</div>
	</main>
	<footer th:replace="layout::footer"></footer>
</body>
</html>